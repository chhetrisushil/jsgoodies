<html>
    <head>
        <script>
            var override = function (parent, prop) {
                for (var name in prop) {
                    parent[name] = (parent.hasOwnProperty(name) && typeof prop[name] === 'function' && typeof parent[name] === 'function') ? (function (p, fn) {
                        var su = parent[p];
                        return function () {
                            var tmp = parent._super;
                            parent._super = su;
                            var ret = fn.apply(parent, arguments);
                            parent._super = tmp;
                            
                            return ret;
                        };
                    })(name, prop[name]) : prop[name];
                }
            };
            
            var inherit = function (parent, child) {
                var toString = Object.prototype.toString,
                    self = arguments.callee;
                for (var name in parent) {
                    child[name] = (child.hasOwnProperty(name) && typeof child[name] === 'function' && typeof parent[name] === 'function') ? (function (p, fn) {
                        return function () {
                            var tmp = child._super;
                            child._super = parent[p];
                            var ret = fn.apply(child, arguments);
                            child._super = tmp;
                            return ret;
                        };
                    })(name, child[name]) : 
                        child.hasOwnProperty(name) ? child[name] : 
                            (toString.call(parent[name]) === '[object Array]') ? parent[name].concat() : 
                                (toString.call(parent[name]) === '[object Object]') ? self(parent[name], {}) : parent[name];
                }
                
                return child;
            };
            
            // override example
            var a = {
                    name: 'su',
                    
                    init: function () {
                        console.log('parent', this.name);
                        this.parentMethod();
                    },
                    
                    parentMethod: function () {
                        console.log('parentMethod');
                    },
                    
                    overrideThis: function () {
                        console.log('going to override this');
                    }
                };

            override(a, {
                name: 'ch',
                
                init: function () {
                    this._super();
                    console.log('child');
                    this.additionalMethod();
                    this.overrideThis();
                },
                
                additionalMethod: function () {
                    console.log('additionalMethod in child');
                },
                
                overrideThis: function () {
                    this._super();
                    console.log('now overridden');
                }
            });
            console.log('/**************override example - start******************/');
            a.init();
            console.log('/**************override example - end******************/\n \n');
            
            //inheritance example
            var i = {
                    name: 'su',
                    ar: [1, 2, 3],
                    
                    init: function () {
                        console.log('parent', this.name);
                        this.parentMethod();
                    },
                    
                    parentMethod: function () {
                        console.log('parentMethod');
                    },
                    
                    overrideThis: function () {
                        console.log('going to override this');
                    },
                    
                    obj: {
                        s: 'sdaf',
                        u: 'fd',
                        h: 'fgf'
                    }
                },
                j = {
                    name: 'ch',
                    
                    init: function () {
                        this._super();
                        console.log('child', this.name);
                        this.additionalMethod();
                        this.overrideThis();
                    },
                    
                    additionalMethod: function () {
                        console.log('additionalMethod in child');
                    },
                    
                    overrideThis: function () {
                        this._super();
                        console.log('now overridden');
                    }
                };
                console.log('/**************inherit example - start******************/');
                inherit(i, j);
                i.init();
                console.log('\n \n');
                j.init();
                j.ar[j.ar.length] = 4;
                console.log('/**************inherit example - end******************/\n \n');
                
        </script>
    </head>
</html>